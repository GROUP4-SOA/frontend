<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Management</title>
    <link rel="icon" type="image/x-icon" href="../image/warehouse.svg">
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>
        // Role check before page loads
        const userRole = localStorage.getItem('role');
        if (userRole !== '0' && userRole !== 'ADMINISTRATOR') {
            window.location.href = 'Dashboard.html';
        }
    </script>
</head>

<body>
    <div class="sidebar">
        <h2>Book Warehouse Management</h2>
        <ul>
            <li><a href="#dashboard" class="nav-link" id="dashboard-link"><i class="fa-solid fa-home"></i> Dashboard</a>
            </li>
            <li><a href="#admin" class="nav-link" id="admin-link"><i class="fa-solid fa-user"></i> Account
                    Management</a></li>
            <li><a href="#category" class="nav-link" id="category-link"><i class="fa-solid fa-list"></i> Category
                    Management</a></li>
            <li><a href="#books" class="nav-link" id="books-link"><i class="fa-solid fa-book"></i> Book Management</a>
            </li>
            <li><a href="#import" class="nav-link" id="import-link"><i class="fa-solid fa-download"></i> Warehouse
                    Import</a></li>
            <li><a href="#export" class="nav-link" id="export-link"><i class="fa-solid fa-upload"></i> Warehouse
                    Export</a></li>
        </ul>
        <!-- Logout button at the bottom -->
        <a href="#" id="logout-btn"><i class="fa-solid fa-sign-out-alt"></i> Log Out</a>
    </div>
    <div class="content" id="content">
        <h2>Account Management</h2>
        <button class="add-btn" onclick="openAddAccountModal()">Add Account</button>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>FullName</th>
                    <th>UserName</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Account Type</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="account-list">
                <!-- Account list will be displayed here -->
            </tbody>
        </table>
    </div>
    <!-- Modal for Adding Account -->
    <!-- Modal for Adding Account -->
<div id="add-account-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Add User</h2>
        <form id="add-account-form">
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName-add" name="fullName" required>

            <label for="username">Username</label>
            <input type="text" id="username-add" name="username" required>

            <label for="password">Password</label>
            <input type="password" id="password-edit" name="password" required>

            <label for="email">Email</label>
            <input type="email" id="email-add" name="email" required>

            <label for="phone">Phone Number</label>
            <input type="text" id="phone-add" name="phone" required>

            <label for="role">Role</label>
            <select id="role-add" name="role">
                <option value="1">Admin</option>
                <option value="0">Staff</option>
            </select>

            <label for="isActive">Active</label>
            <input type="checkbox" id="isActive-add" name="isActive">

            <button style="display: block; margin: 20px auto; padding: 12px 20px;" type="submit">Add</button>
        </form>
    </div>
</div>


    <!-- Modal for Editing Account -->
    <div id="edit-account-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Edit User</h2>
            <form id="edit-account-form">
                <input type="hidden" id="userId-edit" name="userId" required>

                <label for="username">Username</label>
                <input type="text" id="username-edit" name="username" required>

                <label for="fullName">Full Name</label>
                <input type="text" id="fullName-edit" name="fullName" required>

                <label for="email">Email</label>
                <input type="email" id="email-edit" name="email" required>

                <label for="phone">Phone Number</label>
                <input type="text" id="phone-edit" name="phone" required>

                <label for="role">Role</label>
                <select id="role-edit" name="role">
                    <option value="Admin">ADMINISTRATOR</option>
                    <option value="User">STAFF</option>
                </select>

                <label for="isActive">Active</label>
                <input type="checkbox" id="isActive-edit" name="isActive">

                <button style="display: block; margin: 20px auto; padding: 12px 20px;" type="submit">Update</button>
            </form>
        </div>
    </div>

    <script src="../config.js"></script>
    <script src="../js/admin.js" defer></script>
</body>

</html>